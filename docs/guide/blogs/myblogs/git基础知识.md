# git基础知识
## 配置
- **name** 
	- git config --global user.name  "用户名"
- **email**
	- git config --global user.email "邮箱"
    
## 文件状态
- git中的文件有两种状态：**未跟踪**和**已跟踪**。跟踪指该文件被git所管理，已跟踪的文件又有三种状态：**未修改、修改和暂存。**
- **暂存**，表示文件修改已经保存，但是尚未提交到git仓库。
- **未修改**，表示磁盘中的文件和git仓库中文件相同，没有修改。
- **已修改**，表示磁盘中文件已被修改，和git仓库中文件不同。
- 可以通过 `git status` 来查看文件状态

## 使用git
- **git status**
    - 查看当前仓库状态
- **git init** 
    - 初始化仓库 
- 刚添加到项目中的文件属于 未跟踪 的状态
- **git add （filename）**
    - 将文件从 未跟踪  --）  **暂存** 的状态
- **git add** * 或 git add . 将所有 未跟踪 (**已修改**)文件 --）  **暂存**状态 
- **git commit -m** "注释信息"
    - 将**暂存**的文件存储到仓库中
    - 文件状态从 **暂存**--）**未修改**
- **git commit -a -m** "注释"     提交所有**已修改**的文件(未跟踪文件不会提交)
    - 修改被跟踪的文件内容后
    - 文件状态从 **未修改**·--） **已修改** 
    - **已修改**内容要提交需要先通过git add filename **暂存**，
    - 然后git commit 将其--）**未修改**
- **git restore （filename）**
    - 重置文件
**git restore --staged （filename）**
    - 将文件从**暂存**状态取消
- **git rm （filename）**
    - 删除文件
- **git rm （filename） -f**
    - 强制删除
- **git mv from to** 
    - ```eg: git mv .\1.txt .\2.txt```
    - 移动文件 重命名文件
- **git rm -r --force .**
    - 清空本地仓库
    - 简写 ``` git rm -r -f . ```

## 分支(branch)
- git在存储文件时，**每一次代码的提交都会创建一个与之对应的节点**，git就是**通过一个一个的节点来记录代码的状态的**。节点会构成一个树状结构，树状结构就意味着这个树会存在分支，默认情况下仓库只有一个分支，命名为master。在使用git时，可以创建多个分支，分支与分支之间相互独立，在一个分支上修改代码不会影响其它的分支。因此在开发时都是在自己的分支上编写代码，测试完毕后才合并到主分支。
 
- **git branch**
    - 查看分支
- **git branch （branch name）**
    - 创建分支
- **git branch -d （branch name）**
    - 删除分支
- **git switch （branch name）**
    - 切换至（branch name）分支
- **git switch -c （branch name）**
    - 创建并切换至该分支

## 合并(merge)
- **git merge （branch name）**
    - 将（branch name）分支合并到当前分支
    - 若当前分支与带合并分支在一条线上触发快速合并
        即 --> 直接将当前分支指向（branch name）分支的最后

## 变基(rebase)
- 在开发中除了通过merge来合并分支外，还可以通过变基来完成分支的合并。
我们通过merge合并分支时，在提交记录中会将所有的分支创建和分支合并的过程
全部都显示出来，这样当项目比较复杂时我们必须要反复的创建、合并、删除分支。
这样一来将会使得我们的代码提交记录变得极为混乱。
- **变基原理**(变基时发生了什么)
    - 当我们发起变基时，git会首先找到两条分支最近的共同祖先
    - 对比当前分支相对于祖先的历史提交，并且将它们提取出来存储到一个临时文件中
    - 将当前部分指向目标的基地
    - 以当前基地开始，重新执行历史操作
- 变基和merge对于合并分支来说最终的结果是一样的！但是变基会使得代码的提交记录
    更整洁、清晰！注意！大部分情况下合并的变基是可以互换的，但是如果分支已经提交
    给了远程仓库，那么这时尽量不要变基

## 远程仓库(remote)
- 远程的git仓库和本地的本质没有什么区别，不同的在于远程的仓库可以同时呗多人同时
访问使用，方便我们协同开发。目前常用的库有两个：**GitHub**和**Gitee**(码云)
将本地库上传github:
```js
git remote add （remote name） （url）
git branch -M main # 修改分支的名字为main
git push -u （remote name） main # git push 将代码上传到服务器上
```

## 远程库的操作的命令

```js
git remote # 列出当前的关联的远程库
git remote add <远程库名> <url> # 关联远程仓库
git remote remove <远程库名>  # 删除远程库
git push -u <远程库名> <分支名> # 向远程库推送代码，并和当前分支关联
git push <远程库> <本地分支>:<远程分支>
git clone <url> # 从远程库下载代码

git push # 如果本地的版本低于远程库，push默认是推不上去
git fetch # 要想推送成功，必须先确保本地库和远程库的版本一致，fetch它会从远程仓库下载所有代码，但是它不会将代码和当前分支自动合并
            # 使用fetch拉取代码后，必须要手动对代码进行合并
git pull  # 从服务器上拉取代码并自动合并

```

 - 注意：推送代码之前，一定要先从远程库中拉取最新的代码

## tag 标签

- 当头指针没有执行某个分支的头部时，这种状态我们称为分离头指针（HEAD detached），分离头指针的状态下也可以操作操作代码，但是这些操作不会出现在任何的分支上，所以注意不要再分离头指针的状态下来操作仓库。

- 如果非得要回到后边的节点对代码进行操作，则可以选择创建分支后再操作

```js
git switch -c <分支名> <提交id>
```

- 可以为提交记录设置标签，设置标签以后，可以通过标签快速的识别出不同的开发节点：

```js
git tag
git tag 版本
git tag 版本 提交id
git push 远程仓库 标签名
git push 远程仓库 --tags
git tag -d 标签名 # 删除标签
git push 远程仓库 --delete 标签名 # 删除远程标签
```

## gitignore

- 默认情况下，git 会监视项目中所有内容，但是有些内容比如 node_modules 目录中的内容，我们不希望它被 git 所管理。我们可以在项目目录中添加一个`.gitignore`文件，来设置那些需要 git 忽略的文件。

## github 的静态页面

- 在 github 中，可以将自己的静态页面直接部署到 github 中，它会给我们提供一个地址使得我们的页面变成一个真正的网站，可以供用户访问。
- 要求：
    - 静态页面的分支必须叫做：gh-pages
    - 如果希望页面可以通过 xxx.github.io 访问，则需要将库的名字配置为 xxx.github.io
		